{"version":3,"sources":["webpack:///index.js","webpack:///./src/api/baseUrl.ts","webpack:///./src/index.tsx","webpack:///./src/api/userApi.ts"],"names":["webpackJsonp","186","module","exports","__webpack_require__","getBaseUrl","getQueryStringParameterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","Object","defineProperty","value","default","189","$","toastr","userApi_1","getUsers","then","result","deleteClicked","event","element","target","preventDefault","deleteUser","attributes","row","parentNode","removeChild","info","usersBody","forEach","user","id","firstName","lastName","email","html","on","83","84","85","get","del","fetch","baseUrl","onSuccess","onError","request","Request","method","response","json","error","console","log","baseUrl_1"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,YCLA,SAAAC,KACE,MAAOC,GAA8B,cAAgB,yBAA2B,IAGlF,QAAAA,GAAuCC,EAAcC,GAC9CA,IAAOA,EAAMC,OAAOC,SAASC,MAClCJ,EAAOA,EAAKK,QAAQ,UAAW,OAC/B,IAAMC,GAAQ,GAAIC,QAAO,OAASP,EAAO,qBACnCQ,EAAUF,EAAMG,KAAKR,EAC3B,OAAKO,GACAA,EAAQ,GACNE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD1B,GADH,KDFzBM,OAAOC,eAAehB,EAAS,cAAgBiB,OAAO,ICPtDjB,EAAAkB,QAAAhB,GDmCMiB,IACA,SAAUpB,EAAQC,EAASC,GAEjC,YAEAc,QAAOC,eAAehB,EAAS,cAAgBiB,OAAO,GExCtD,IAAAG,GAAAnB,EAAA,IACAoB,EAAApB,EAAA,IACAqB,EAAArB,EAAA,GAEAA,GAAA,IACAA,EAAA,IAGAqB,EAAAC,WAAWC,KAAK,SAACC,GAoBf,QAAAC,GAAuBC,GACrB,GAAMC,GAAUD,EAAME,MACtBF,GAAMG,iBACNR,EAAAS,WAAWH,EAAQI,WAAW,WAAWf,MACzC,IAAMgB,GAAML,EAAQM,WAAWA,UAC/BD,GAAIC,WAAWC,YAAYF,EAC3B,IAAM7B,GAAQwB,EAAQI,WAAW,aAAkB,KACnDX,GAAOe,KAAKhC,EAAO,sBA1BrB,GAAIiC,GAAY,EAEhBZ,GAAOa,QAAQ,SAACC,GACdF,GAAa,kDAEcE,EAAKC,GAAE,gBAAgBD,EAAKE,UAAY,IAAMF,EAAKG,SAAQ,4DAE9EH,EAAKC,GAAE,oBACPD,EAAKE,UAAS,oBACdF,EAAKG,SAAQ,oBACbH,EAAKI,MAAK,uBAIpBvB,EAAE,UAAUwB,KAAKP,GAEGjB,EAAE,eACVyB,GAAG,QAASnB,MF2CpBoB,GACA,SAAU/C,EAAQC,KAMlB+C,GACA,SAAUhD,EAAQC,KAMlBgD,GACA,SAAUjD,EAAQC,EAASC,GAEjC,YGlFA,SAAAsB,KACE,MAAO0B,GAAI,SAGb,QAAAlB,GAA2BS,GACzB,MAAOU,GAAI,SAASV,GAGtB,QAAAS,GAAa5C,GACX,MAAO8C,OAAMC,EAAU/C,GAAKmB,KAAK6B,EAAWC,GAI9C,QAAAJ,GAAa7C,GACX,GAAMkD,GAAU,GAAIC,SAAQJ,EAAU/C,GACpCoD,OAAQ,UAGV,OAAON,OAAMI,GAAS/B,KAAK6B,EAAWC,GAGxC,QAAAD,GAAmBK,GACjB,MAAOA,GAASC,OAGlB,QAAAL,GAAiBM,GACfC,QAAQC,IAAIF,GH0Dd7C,OAAOC,eAAehB,EAAS,cAAgBiB,OAAO,GGxFtD,IAAA8C,GAAA9D,EAAA,KAEMmD,EAAUW,EAAA7C,SAEhBlB,GAAAuB,WAIAvB,EAAA+B,gBH+GG","file":"index.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction getBaseUrl() {\r\n    return getQueryStringParameterByName(\"useMockApi\") ? \"http://localhost:3001/\" : \"/\";\r\n}\r\nexports.default = getBaseUrl;\r\nfunction getQueryStringParameterByName(name, url) {\r\n    if (!url) {\r\n        url = window.location.href;\r\n    }\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\");\r\n    var results = regex.exec(url);\r\n    if (!results) {\r\n        return null;\r\n    }\r\n    if (!results[2]) {\r\n        return \"\";\r\n    }\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n// export default function getBaseUrl() {\r\n//   const inDevelopment = window.location.hostname === 'localhost';\r\n//   return inDevelopment ? 'http://localhost:3001/' : '/';\r\n// }\r\n\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(13);\r\nvar toastr = __webpack_require__(34);\r\nvar userApi_1 = __webpack_require__(85);\r\n__webpack_require__(83);\r\n__webpack_require__(84);\r\n// Populate table of users via API call.\r\nuserApi_1.getUsers().then(function (result) {\r\n    var usersBody = \"\";\r\n    result.forEach(function (user) {\r\n        usersBody += \"<tr>\\n      <td>\\n        <a href=\\\"#\\\" data-id=\\\"\" + user.id + \"\\\" data-name=\\\"\" + (user.firstName + \" \" + user.lastName) + \" \\\" class=\\\"deleteUser\\\">Delete</a>\\n      </td>\\n      <td>\" + user.id + \"</td>\\n      <td>\" + user.firstName + \"</td>\\n      <td>\" + user.lastName + \"</td>\\n      <td>\" + user.email + \"</td>\\n      </tr>\";\r\n    });\r\n    $(\"#users\").html(usersBody);\r\n    var deleteLinks = $(\".deleteUser\");\r\n    deleteLinks.on(\"click\", deleteClicked);\r\n    function deleteClicked(event) {\r\n        var element = event.target;\r\n        event.preventDefault();\r\n        userApi_1.deleteUser(element.attributes[\"data-id\"].value);\r\n        var row = element.parentNode.parentNode;\r\n        row.parentNode.removeChild(row);\r\n        var name = (element.attributes[\"data-name\"].value);\r\n        toastr.info(name + \" has been deleted.\");\r\n    }\r\n});\r\n\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar baseUrl_1 = __webpack_require__(186);\r\nvar baseUrl = baseUrl_1.default();\r\nfunction getUsers() {\r\n    return get(\"users\");\r\n}\r\nexports.getUsers = getUsers;\r\nfunction deleteUser(id) {\r\n    return del(\"users/\" + id);\r\n}\r\nexports.deleteUser = deleteUser;\r\nfunction get(url) {\r\n    return fetch(baseUrl + url).then(onSuccess, onError);\r\n}\r\n// Can't call func delete since reserved word.\r\nfunction del(url) {\r\n    var request = new Request(baseUrl + url, {\r\n        method: \"DELETE\",\r\n    });\r\n    return fetch(request).then(onSuccess, onError);\r\n}\r\nfunction onSuccess(response) {\r\n    return response.json();\r\n}\r\nfunction onError(error) {\r\n    console.log(error); // tslint:disable-line no-console\r\n}\r\n\n\n/***/ })\n\n},[189]);\n\n\n// WEBPACK FOOTER //\n// index.js","export default function getBaseUrl() {\r\n  return getQueryStringParameterByName(\"useMockApi\") ? \"http://localhost:3001/\" : \"/\";\r\n}\r\n\r\nfunction getQueryStringParameterByName(name: string, url?: string) {\r\n  if (!url) { url = window.location.href; }\r\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\");\r\n  const results = regex.exec(url);\r\n  if (!results) { return null; }\r\n  if (!results[2]) { return \"\"; }\r\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n\r\n// export default function getBaseUrl() {\r\n//   const inDevelopment = window.location.hostname === 'localhost';\r\n//   return inDevelopment ? 'http://localhost:3001/' : '/';\r\n// }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.ts","import * as $ from \"jquery\";\r\nimport * as toastr from \"toastr\";\r\nimport { deleteUser, getUsers } from \"./api/userApi\";\r\n\r\nimport \"../node_modules/toastr/build/toastr.css\";\r\nimport \"./index.css\";\r\n\r\n// Populate table of users via API call.\r\ngetUsers().then((result) => {\r\n  let usersBody = \"\";\r\n\r\n  result.forEach((user) => {\r\n    usersBody += `<tr>\r\n      <td>\r\n        <a href=\"#\" data-id=\"${user.id}\" data-name=\"${user.firstName + \" \" + user.lastName} \" class=\"deleteUser\">Delete</a>\r\n      </td>\r\n      <td>${user.id}</td>\r\n      <td>${user.firstName}</td>\r\n      <td>${user.lastName}</td>\r\n      <td>${user.email}</td>\r\n      </tr>`;\r\n  });\r\n\r\n  $(\"#users\").html(usersBody);\r\n\r\n  const deleteLinks = $(\".deleteUser\");\r\n  deleteLinks.on(\"click\", deleteClicked);\r\n\r\n  function deleteClicked(event) {\r\n    const element = event.target;\r\n    event.preventDefault();\r\n    deleteUser(element.attributes[\"data-id\"].value);\r\n    const row = element.parentNode.parentNode;\r\n    row.parentNode.removeChild(row);\r\n    const name = (element.attributes[\"data-name\"].value);\r\n    toastr.info(name + \" has been deleted.\");\r\n  }\r\n\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","import getBaseUrl from \"./baseUrl\";\r\n\r\nconst baseUrl = getBaseUrl();\r\n\r\nexport function getUsers() {\r\n  return get(\"users\");\r\n}\r\n\r\nexport function deleteUser(id) {\r\n  return del(`users/${id}`);\r\n}\r\n\r\nfunction get(url) {\r\n  return fetch(baseUrl + url).then(onSuccess, onError);\r\n}\r\n\r\n// Can't call func delete since reserved word.\r\nfunction del(url) {\r\n  const request = new Request(baseUrl + url, {\r\n    method: \"DELETE\",\r\n});\r\n\r\n  return fetch(request).then(onSuccess, onError);\r\n}\r\n\r\nfunction onSuccess(response) {\r\n  return response.json();\r\n}\r\n\r\nfunction onError(error) {\r\n  console.log(error); // tslint:disable-line no-console\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.ts"],"sourceRoot":""}